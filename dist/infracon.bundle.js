(()=>{"use strict";function t(){var t=document.querySelector(".icon"),e=document.querySelector("nav ul"),o=document.querySelectorAll(".dropdown-arrow"),n=document.querySelector("nav");window.addEventListener("scroll",(function(){window.scrollY>50?n.classList.add("fixed-nav"):n.classList.remove("fixed-nav")})),t&&e&&(t.addEventListener("click",(function(t){t.stopPropagation(),e.classList.toggle("show"),console.log("Mobile menu toggled")})),document.addEventListener("click",(function(n){e.contains(n.target)||t.contains(n.target)||!e.classList.contains("show")||(e.classList.remove("show"),o.forEach((function(t){t.parentElement.nextElementSibling.style.display="none",t.style.transform="rotate(0deg)"})),console.log("Mobile menu closed"))}))),o.forEach((function(t){var e=t.parentElement,o=e.nextElementSibling;e.addEventListener("click",(function(n){window.innerWidth<=968&&(n.preventDefault(),n.stopPropagation(),o.style.display="block"===o.style.display?"none":"block",t.style.transform="block"===o.style.display?"rotate(180deg)":"rotate(0deg)",console.log("Dropdown toggled for ".concat(e.textContent)))})),document.addEventListener("click",(function(n){window.innerWidth<=968&&!e.contains(n.target)&&!o.contains(n.target)&&(o.style.display="none",t.style.transform="rotate(0deg)",console.log("Dropdown closed for ".concat(e.textContent)))}))}))}function e(){console.log("Footer initialized - no animations here")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function r(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-include]").forEach((function(o){var n=o.getAttribute("data-include"),r="/components/".concat(n,".html");console.log("Fetching:",r),fetch(r).then((function(t){if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return t.text()})).then((function(r){o.innerHTML=r,console.log("".concat(n," loaded")),"navigation"===n&&t(),"footer"===n&&e()})).catch((function(t){return console.error("Include failed for ".concat(r,":"),t)}))}));var o=setInterval((function(){var n=document.querySelector('[data-include="navigation"]'),r=document.querySelector('[data-include="footer"]');n&&n.innerHTML&&r&&r.innerHTML&&(clearInterval(o),t(),e(),console.log("Navigation and footer initialized"))}),100)}));var i=window.gsap,a=window.ScrollTrigger;document.addEventListener("DOMContentLoaded",(function(){new Promise((function(t){var e=function(){var o=document.querySelector("nav"),n=document.querySelector("footer"),r=document.querySelector(".stats-section"),i=document.querySelectorAll(".stat-item");o&&n&&r&&i.length>0?(console.log("Components loaded: navigation, footer, stats-section, and stat-items are present."),console.log("Found ".concat(i.length," stat items")),t()):(console.log("Waiting for components..."),console.log("Nav:",!!o,"Footer:",!!n,"Stats Section:",!!r,"Stat Items:",i.length),setTimeout(e,100))};e()})).then((function(){try{if(void 0===window.gsap||void 0===window.ScrollTrigger)return void console.error("GSAP or ScrollTrigger not loaded. Check script order in HTML.");i.registerPlugin(a),new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.optimizeImages()},(e=[{key:"optimizeImages",value:function(){document.querySelectorAll("img").forEach((function(t){t.hasAttribute("loading")||t.setAttribute("loading","lazy"),t.hasAttribute("decoding")||t.setAttribute("decoding","async")}))}}])&&n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());var t=i.utils.toArray(".animate-on-scroll");console.log("Total elements with animate-on-scroll:",t.length),t.forEach((function(t,e){console.log("Setting up animation for element ".concat(e,":"),t.className);var o=t.classList.contains("stat-item"),n=t.closest(".hero-content")||t.closest(".features-grid")||t.closest(".header")||t.closest(".row")||t.closest(".accordion")||t.closest(".container")?.2:0;i.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:.4,stagger:n,ease:"power3.out",overwrite:"auto",immediateRender:!0,scrollTrigger:{trigger:t,start:"top 85%",toggleActions:"play none none none",onEnter:function(){if(console.log("Animation triggered for element ".concat(e," (").concat(t.className,")")),o){var n=t.querySelector(".stat-value");n&&!n.hasAttribute("data-counted")?(console.log("Counter found for stat item ".concat(e,":"),n),n.setAttribute("data-counted","true"),function(t){var e=parseFloat(t.getAttribute("data-target")||0),o=t.textContent.trim(),n=o.includes("+"),r=o.includes("Lac")||o.includes("Lakh"),i=o.includes("Cr"),a=0,c=function(l){a||(a=l);var s=Math.min((l-a)/2e3,1),u=s*e;if(r){var d=u.toFixed(1);t.textContent="".concat(d," Lac")}else if(i){var f=Math.floor(u);t.textContent="".concat(f).concat(n?"+":""," Cr")}else{var g=Math.floor(u);t.textContent="".concat(g).concat(n?"+":"")}s<1?requestAnimationFrame(c):t.textContent=o};requestAnimationFrame(c)}(n)):n||console.warn("No .stat-value found for stat item ".concat(e))}}}})}));var e=document.querySelector("footer");e?i.fromTo(e,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",overwrite:"auto",scrollTrigger:{trigger:".sec-7",start:"bottom 85%",toggleActions:"play none none none",onEnter:function(){return console.log("Footer animation triggered")}}}):console.warn("No footer element found for animation");var o=document.querySelectorAll(".accordion-item");o.length>0&&o.forEach((function(t){t.addEventListener("click",(function(){o.forEach((function(t){return t.classList.remove("active")})),t.classList.add("active")}))}))}catch(t){console.error("Error in script.js:",t)}}))}))})();